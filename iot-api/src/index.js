console.log('running')

const irCode = '3280, -1704, 468, -1168, 472, -400, 448, -428, 444, -428, 444, -428, 444, -428, 448, -428, 444, -432, 444, -428, 444, -432, 444, -428, 444, -428, 444, -1192, 468, -404, 444, -428, 444, -436, 440, -432, 444, -428, 444, -428, 444, -428, 444, -432, 444, -428, 444, -428, 444, -436, 440, -432, 444, -432, 440, -428, 444, -432, 444, -428, 444, -428, 444, -1188, 472, -408, 444, -1188, 448, -1188, 444, -1188, 448, -1188, 444, -1192, 444, -1188, 444, -432, 444, -1192, 444, -1192, 444, -1188, 444, -1192, 444, -1188, 448, -1188, 444, -1188, 448, -1188, 444, -1196, 444, -428, 444, -428, 444, -432, 440, -432, 444, -428, 444, -428, 444, -432, 444, -432, 444, -428, 444, -428, 444, -1192, 444, -1192, 444, -428, 444, -428, 444, -1192, 444, -1192, 448, -1188, 444, -1188, 448, -428, 444, -428, 444, -1188, 448, -1188, 444, -428, 444, -436, 444, -1188, 472, -1164, 444, -1188, 472, -404, 444, -428, 444, -1188, 448, -428, 444, -1192, 444, -432, 444, -428, 444, -428, 444, -1188, 448, -1188, 448, -428, 444, -1188, 444, -432, 444, -432, 444, -428, 444, -1188, 448, -428, 444, -428, 444, -428, 444, -1192, 444, -432, 444, -1192, 444, -1188, 444, -428, 448, -1188, 444, -1188, 448, -1188, 444, -432, 444, -1192, 444, -432, 440, -432, 444, -1188, 472, -400, 448, -428, 444, -1188, 444, -1192, 468, -408, 444, -1192, 468, -1164, 448, -428, 444, -1188, 444, -1192, 468, -404, 444, -428, 444, -1196, 444, -428, 444, -428, 444, -432, 444, -428, 444, -428, 444, -428, 444, -432, 444, -432, 444, -1188, 472, -1164, 444, -1188, 472, -1164, 444, -1188, 448, -1188, 448, -1188, 472, -1164, 448, -428, 444, -428, 444, -428, 444, -432, 440, -432, 444, -428, 444, -428, 444, -436, 444, -1188, 444, -1192, 444, -1188, 448, -1188, 444, -1188, 448, -1188, 444, -1188, 448, -1192, 444, -432, 440, -432, 444, -428, 444, -428, 444, -428, 444, -432, 444, -428, 444, -432, 444, -1192, 444, -1188, 448, -1188, 464, -1172, 444, -1188, 444, -1192, 444, -1188, 444, -1196, 444, -428, 444, -428, 444, -432, 444, -428, 444, -428, 444, -428, 444, -432, 444, -432, 444, -1188, 472, -1164, 444, -1192, 444, -1188, 444, -1192, 444, -1188, 448, -1188, 444, -1192, 448, -428, 444, -428, 444, -428, 444, -432, 444, -428, 444, -428, 444, -432, 440, -436, 444, -1188, 444, -1192, 444, -1188, 448, -1188, 444, -1188, 448, -1188, 444, -1192, 444, -1192, 444, -432, 444, -1188, 444, -1192, 444, -428, 444, -1188, 448, -428, 444, -1188, 448, -432, 444, -1188, 444, -432, 444, -428, 444, -1188, 448, -428, 444, -1188, 444, -428, 444, -1196, 444, -1188, 448, -428, 444, -428, 444, -432, 440, -1192, 444, -1188, 448, -1188, 444, -1192, 448, -428, 444, -1192, 444, -1188, 444, -1192, 444, -428, 444, -428, 444, -428, 444, -436, 444, -428, 444, -428, 444, -432, 444, -428, 444, -428, 444, -428, 444, -432, 440, -436, 444, -1188, 448, -1188, 444, -1192, 444, -1188, 444, -1192, 444, -1188, 464, -1172, 444, -1192, 448, -428, 444, -428, 444, -428, 444, -432, 440, -432, 444, -428, 444, -428, 444, -436, 440, -1192, 444, -1192, 444, -1188, 444, -1192, 444, -1188, 448, -1188, 444, -1188, 448, -1192, 444, -428, 444, -432, 444, -428, 444, -428, 444, -432, 440, -432, 444, -428, 444, -432, 444, -1192, 444, -1188, 448, -1188, 444, -1192, 444, -1188, 444, -1192, 444, -1188, 444, -1196, 468, -1164, 448, -1188, 444, -1192, 444, -1188, 444, -432, 440, -432, 444, -428, 444, -432, 444, -432, 440, -432, 444, -428, 444, -428, 444, -1192, 444, -1192, 444, -1188, 444, -1192, 448'

let longestPause = null
let shortestPause = null

const pauses = irCode.split(', ').filter(pulse => pulse < 0).map(pause => {
  const roundedPause = Math.round((pause * -1) / 100)

  if (longestPause === null || longestPause < roundedPause) { longestPause = roundedPause }

  if (shortestPause === null || shortestPause > roundedPause) { shortestPause = roundedPause }

  return roundedPause
})

pauses.shift()

const binaryArray = pauses.map(pause => {
  return pause - shortestPause < longestPause - pause ? 0 : 1
})

let byteString = ''

binaryArray.forEach((value, index) => {
  if ((index + 1) % 8 === 0) byteString += value + ' '
  else byteString += value
})

console.log(byteString)
